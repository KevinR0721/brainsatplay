import"../../../../_snowpack/pkg/gpujs.js";function I(t,r){return t+r}function O(t,r){return t-r}function z(t,r){return t*r}function A(t,r){return t/r}function E(t,r,a,h){return[t+a,r+h]}function P(t,r,a,h){return[t-a,r-h]}function B(t,r,a,h){return[t*a-r*h,t*h+r*a]}function H(t,r){const a=Math.exp(t);return[a*Math.cos(r),a*Math.sin(r)]}function x(t,r){return Math.sqrt(t*t+r*r)}function J(t){return 0-t}function L(t){const r=Math.sqrt(t);for(var a=3;a<=r;){if(t%a==0)return a;a+=2}}function _(t,r){for(var a=0,h=0;h<r;h++)a+=t[h];return a/r}function F(t,r,a){for(var h=0,o=0;o<a;o++)h+=(t[o]-r)*(t[o]-r);return Math.sqrt(h)}function Q(t,r,a){for(var h=0,o=0,n=0;n<a;n++)o=t[n]-r,h+=o*o;return h/a}function U(t,r,a){for(var h=0,o=0,n=0;n<a;n++)o=t[n]-r,h+=o*o;return Math.sqrt(h/a)}function g(t,r,a,h,o,n,v,i){for(var u=0,f=0;f<v;f++){var s=f+i,e=0;s<v&&(e=h[s]),u+=(t[f]-r)*(e-o)}return u/(a*n)}function V(t,r,a){for(var h=0,o=0;o<r;o++)h+=Math.exp(t[o]);return Math.exp(t[a])/h}function w(t,r,a){for(var h=0,o=0,n=1/r,v=6.28318530718*a*n,i=0;i<r;i++){var u=v*i;h=h+t[i]*Math.cos(u),o=o-t[i]*Math.sin(u)}return[h*n,o*n]}function T(t,r,a,h){for(var o=0,n=0,v=1/r,i=6.28318530718*a*v,u=0;u<r;u++){var f=i*u;o=o+t[u+(r-1)*h]*Math.cos(f),n=n-t[u+(r-1)*h]*Math.sin(f)}return[o*v,n*v]}function K(t,r,a,h){var o=0,n=0,v=1/r,i=6.28318530718*a*v,u=1,f=0,s=h*.25;if(a<=s)for(;a<=s;)s=s*.5,u+=1;for(var e=0;e<r;e+=u){var c=e;c>r&&(c=r);var d=i*c;o=o+t[c]*Math.cos(d),n=n-t[c]*Math.sin(d),f+=1}return[o/f,n/f]}function k(t,r,a,h,o){var n=0,v=0,i=1/r,u=6.28318530718*a*i,f=1,s=0,e=o*.25;if(a<=e)for(;a<=e;)e=e*.5,f+=1;for(var c=0;c<r;c+=f){var d=c;d>r&&(d=r);var M=u*d;n=n+t[d+(r-1)*h]*Math.cos(M),v=v-t[d+(r-1)*h]*Math.sin(M),s+=1}return[n/s,v/s]}function D(t,r,a){for(var h=0,o=0,n=1/r,v=6.28318530718*a*n,i=0;i<r;i++){var u=v*i;h=h+t[i]*Math.cos(u),o=t[i]*Math.sin(u)-o}return[h*n,o*n]}function N(t,r,a,h){for(var o=0,n=0,v=1/r,i=6.28318530718*a*v,u=0;u<r;u++){var f=i*u;o=o+t[u+(r-1)*h]*Math.cos(f),n=t[u+(r-1)*h]*Math.sin(f)-n}return[o*v,n*v]}function b(t,r,a,h){var o=0,n=0,v=1/r,i=6.28318530718*a*v,u=1,f=0,s=h*.25;if(a<=s)for(;a<=s;)s=s*.5,u+=1;for(var e=0;e<r;e+=u){var c=e;c>r&&(c=r);var d=i*c;o=o+t[c]*Math.cos(d),n=t[c]*Math.sin(d)-n,f+=1}return[o/f,n/f]}function y(t,r,a,h,o){const n=2*o+1;let v=0,i=0,u=0,f=-o,s=0,e=0;for(;f<=o;){if(this.thread.x+f<0||this.thread.x+f>=r){f++;continue}let c=-o;for(;c<=o;){if(this.thread.y+c<0||this.thread.y+c>=a){c++;continue}e=(c+o)*n+f+o;const d=h[e],M=t[this.thread.y+f][this.thread.x+c];v+=M.r*d,i+=M.g*d,u+=M.b*d,c++}f++}this.color(v,i,u)}function W(t,r){var a=Math.floor(this.thread.x/r)*2,h=this.thread.x-Math.floor(this.thread.x/r)*r,o=_(t[a],r),n=_(t[a+1],r),v=F(t[a],o,r),i=F(t[a+1],n,r),u=g(t[a],o,v,t[a+1],n,i,r,h);return u}function X(t,r,a,h){var o=Math.floor(this.thread.x/r)*2,n=this.thread.x-Math.floor(this.thread.x/r)*r,v=a[o],i=a[o+1],u=h[o],f=h[o+1],s=g(t[o],v,u,t[o+1],i,f,r,n);return s}function Y(t,r,a){var h=w(t,r,this.thread.x);return x(h[0],h[1])*a}function Z(t,r,a){var h=D(t,r,this.thread.x);return x(h[0],h[1])*a}function C(t,r,a,h){var o=K(t,r,this.thread.x,h);return x(o[0],o[1])*a}function G(t,r,a,h){var o=b(t,r,this.thread.x,h);return x(o[0],o[1])*a}function $(t,r){var a=this.output.x,h=w(t[this.thread.y],a,this.thread.x);return x(h[0],h[1])*r}function l(t,r,a){var h=[0,0];if(this.thread.x<=r)h=w(t,r,this.thread.x);else{var o=Math.floor(this.thread.x/r);h=T(t,r,this.thread.x-o*r,o)}return x(h[0],h[1])*a}function m(t,r,a,h){var o=[0,0];if(this.thread.x<=r)o=K(t,r,this.thread.x,h);else{var n=Math.floor(this.thread.x/r);o=k(t,r,this.thread.x-n*r,n,h)}return x(o[0],o[1])*a}function p(t,r,a,h,o){var n=[0,0],v=this.thread.x/r*(h-a)+a;return n=w(t,r,v),x(n[0],n[1])*o}function q(t,r,a,h,o){var n=[0,0],v=this.thread.x/r*(h-a)+a;return n=K(t,r,v),x(n[0],n[1])*o}function S(t,r,a,h,o){var n=[0,0],v=this.thread.x/r*(h-a)+a;return n=D(t,r,v),x(n[0],n[1])*o}function j(t,r,a,h,o){var n=[0,0],v=this.thread.x/r*(h-a)+a;return n=b(t,r,v),x(n[0],n[1])*o}function R(t,r,a,h,o){var n=[0,0];if(this.thread.x<r){var v=this.thread.x/r*(h-a)+a;n=w(t,r,v)}else{var i=Math.floor(this.thread.x/r),v=(this.thread.x-i*r)/r*(h-a)+a;n=T(t,r,v-i*r,i)}return x(n[0],n[1])*o}function rr(t,r,a,h,o){var n=[0,0];if(this.thread.x<r){var v=this.thread.x/r*(h-a)+a;n=K(t,r,v,r)}else{var i=Math.floor(this.thread.x/r),v=(this.thread.x-i*r)/r*(h-a)+a;n=k(t,r,v-i*r,i,r)}return x(n[0],n[1])*o}function tr(t,r,a,h,o){var n=[0,0];if(this.thread.x<r){var v=this.thread.x/r*(h-a)+a;n=D(t,r,v)}else{var i=Math.floor(this.thread.x/r),v=(this.thread.x-i*r)/r*(h-a)+a;n=N(t,r,v-i*r,i)}return x(n[0]*2,n[1]*2)*o}function ar(t,r,a,h){for(var o=a*Math.floor(this.thread.x/r),n=t[o][this.thread.x],v=0;v<a;v++)n*=t[v][this.thread.x];return n*h}function hr(t,r,a,h,o,n,v){for(var i=0;i<n;i++){var u=o[i],f=(Math.sqrt(u)-1)/2;y(t,r,a,h[i],f)}if(v===0)return[this.color.r,this.color.g,this.color.b]}function vr(t){return t[this.thread.y][this.thread.x]}export const createGpuKernels={correlogramsKern:W,correlogramsPCKern:X,dftKern:Y,idftKern:Z,fftKern:C,ifftKern:G,dft_windowedKern:p,idft_windowedKern:S,fft_windowedKern:q,ifft_windowedKern:j,listdft2DKern:$,listdft1DKern:l,listfft1DKern:m,listfft1D_windowedKern:rr,listdft1D_windowedKern:R,listidft1D_windowedKern:tr,bulkArrayMulKern:ar,fftKern:C,ifftKern:G,multiImgConv2DKern:hr},addGpuFunctions=[I,O,z,A,E,P,B,H,x,J,L,_,F,Q,U,g,V,w,T,D,N,K,b,y];
